(this["webpackJsonpstar-wars-client"]=this["webpackJsonpstar-wars-client"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(14),a=n.n(s),l=(n(21),n(3)),u=(n(22),n(0)),i=function(e){var t=e.searchWord,n=e.setSearchWord,c=e.setSearchResult,r=e.setSelected;return Object(u.jsx)("form",{className:"searchBar",method:"get",children:Object(u.jsx)("input",{type:"search",name:"search",className:"search",autoComplete:"off",placeholder:"Enter your query",value:String(t),onChange:function(e){n(e.target.value),c([]),r(null)}})})},o=function(e){var t=e.selected;return Object(u.jsx)("thead",{children:t?Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:2,style:{textAlign:"center"},children:"Details"})}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Type"})]})})},h=(n(24),function(e){var t=e.searchResult,n=e.searchWord,c=e.handleClick;return Object(u.jsx)(u.Fragment,{children:t.map((function(e,t){var r=e.name,s=n.toLowerCase(),a=r.toLowerCase().indexOf(s),l=r.substring(0,a),i=r.substring(a,a+s.length),o=r.substring(a+s.length,r.length);return Object(u.jsxs)("tr",{className:"result-row",onClick:c,id:String(t),children:[Object(u.jsxs)("td",{children:[l,Object(u.jsx)("b",{children:i}),o]}),Object(u.jsx)("td",{children:e.type})]},e.name)}))})}),d=(n(25),function(e){var t=e.selected,n=e.searchResult,c=e.handleClick;return Object(u.jsxs)("div",{className:"details-list",children:[Object(u.jsx)("button",{className:"return-button",onClick:c,children:"Back"}),Object.entries(function(e,t){return e[Number(t)]}(n,t)).map((function(e){return"object"!==typeof e[1]?Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"details-list__name",children:e[0].replace("_"," ")}),Object(u.jsx)("td",{className:"details-list__value",children:e[1]})]},e[0]):null}))]})}),j=(n(26),function(e){var t,n=e.selected,c=e.setSelected,r=e.searchResult,s=e.searchWord,a=function(e){c(n?null:e.currentTarget.getAttribute("id"))};return Object(u.jsxs)("table",{className:"result",children:[function(e){return e.length>0}(r)?Object(u.jsx)(o,{selected:n}):null,Object(u.jsx)("tbody",{children:(t=n,null===t?Object(u.jsx)(h,{searchResult:r,searchWord:s,handleClick:a}):function(e,t){return e[Number(t)]}(r,n)?Object(u.jsx)(d,{selected:n,searchResult:r,handleClick:a}):null)})]})}),b=n(5),f=n.n(b),p=n(15),O=n(16),x=n.n(O),m=function(e){var t=e.setSearchResult,n=e.searchWord;Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(f.a.mark((function e(t,n){var c,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="https://swapi.dev/api/"+"".concat(t,"/?search=").concat(n),e.next=4,x.a.get(c);case 4:return r=e.sent,s=r.data.results,e.abrupt("return",s.map((function(e){return{name:e.name,type:t}})));case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();n.length>=3&&Promise.all(["people","planets","films","species","vehicles","starships"].map((function(t){return e(t,n)}))).then((function(e){t(e.flat())}))}),[n,t])};n(46);var g=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),a=Object(l.a)(s,2),o=a[0],h=a[1],d=Object(c.useState)(null),b=Object(l.a)(d,2),f=b[0],p=b[1];return m({setSearchResult:h,searchWord:n}),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(i,{searchWord:n,setSearchWord:r,setSearchResult:h,setSelected:p}),Object(u.jsx)(j,{selected:f,setSelected:p,searchResult:o,searchWord:n})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),v()}},[[47,1,2]]]);
//# sourceMappingURL=main.33d3a31e.chunk.js.map